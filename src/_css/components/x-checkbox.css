label.x-checkbox {
  user-select: none;
  outline: none;
  min-height: 24px;
  display: inline-block;

  &:focus > span:before {
    box-shadow: var(--outline);
  }

  & > input {
    display: none;
  }

  & > span {
    display: inline-block;
    cursor: pointer;
    position: relative;
    padding-left: var(--x-checkbox-label-margin);
    vertical-align: top;
    line-height: 24px;
  }

  & > span:before {
    content: '';
    display: inline-block;
    width: 20px;
    height: 20px;
    position: absolute;
    top: var(--x-checkbox-top);
    left: 0;
    border: var(--x-checkbox-border);
    border-radius: var(--x-checkbox-border-radius);
    vertical-align: middle;
    background-color: var(--x-checkbox-bg);
    transition: background-color 0.1s ease-out;
    text-align: center;
    color: #ccc;
    background-repeat: no-repeat;
    background-position: center;
    background-size: 100%;
  }

  & > input[type='checkbox'] + span:before {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z" fill="rgba(0,0,0,0.25)" /></svg>');
  }

  & > input[type='checkbox']:checked + span:before {
    background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z" fill="white" /></svg>');
  }

  &.x-checkbox-rounded > input[type='checkbox'] + span:before {
    border-radius: var(--radius-full);
  }

  & > input[type='radio'] + span:before {
    border-radius: var(--radius-full);
  }

  &.x-checkbox-square > input[type='radio'] + span:before {
    border-radius: var(--x-checkbox-border-radius);
  }

  &.x-checkbox-square > input[type='radio'] + span:after {
    border-radius: 1px;
  }

  &.x-checkbox-square > span:before {
    border-radius: var(--x-checkbox-border-radius);
  }

  &.x-checkbox-rounded > span:before {
    border-radius: var(--radius-full);
  }

  & > input:checked + span:before {
    border-color: var(--color-primary);
    background-color: var(--color-primary);
  }

  & > input[type='radio'] + span:after {
    border-color: var(--color-text-muted);
    background-color: var(--color-text-muted);
    background-size: 75%;
    text-align: center;
    content: '';
    top: 8px;
    left: calc(8px - 2px);
    right: 0;
    bottom: 0;
    width: 8px;
    height: 8px;
    position: absolute;
    border-radius: 50%;
  }

  & > input[type='radio']:checked + span:after {
    border-color: var(--color-primary);
    background-color: var(--color-primary);
  }

  &.x-checkbox-default > input:checked + span:before,
  &.x-checkbox-default > input:checked + span:after {
    border-color: var(--color-text-light);
    background-color: var(--color-text-light);
  }

  &.x-checkbox-primary > input:checked + span:before,
  &.x-checkbox-primary > input:checked + span:after {
    border-color: var(--color-primary);
    background-color: var(--color-primary);
  }

  &.x-checkbox-secondary > input:checked + span:before,
  &.x-checkbox-secondary > input:checked + span:after {
    border-color: var(--color-secondary);
    background-color: var(--color-secondary);
  }

  &.x-checkbox-info > input:checked + span:before,
  &.x-checkbox-info > input:checked + span:after {
    border-color: var(--color-info);
    background-color: var(--color-info);
  }

  &.x-checkbox-success > input:checked + span:before,
  &.x-checkbox-success > input:checked + span:after {
    border-color: var(--color-success);
    background-color: var(--color-success);
  }

  &.x-checkbox-warning > input:checked + span:before,
  &.x-checkbox-warning > input:checked + span:after {
    border-color: var(--color-warning);
    background-color: var(--color-warning);
  }

  &.x-checkbox-danger > input:checked + span:before,
  &.x-checkbox-danger > input:checked + span:after {
    border-color: var(--color-danger);
    background-color: var(--color-danger);
  }

  &.x-checkbox-system > input:checked + span:before,
  &.x-checkbox-system > input:checked + span:after {
    border-color: var(--color-system);
    background-color: var(--color-system);
  }

  &.x-checkbox-black > input:checked + span:before,
  &.x-checkbox-black > input:checked + span:after {
    border-color: var(--color-black);
    background-color: var(--color-black);
  }

  & > input[type='radio']:checked + span:before {
    background-color: var(--x-checkbox-bg);
    border-width: 2px;
  }
}
